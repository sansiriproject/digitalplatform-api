
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#clients-apis" class="toc-h1 toc-link" data-title="Clients APIs">Clients APIs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#client-apis-introductions" class="toc-h2 toc-link" data-title="Client APIs Introductions">Client APIs Introductions</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#activities-index" class="toc-h2 toc-link" data-title="activities#index">activities#index</a>
                  </li>
                  <li>
                    <a href="#activities-activities-create" class="toc-h2 toc-link" data-title="activities/activities#create">activities/activities#create</a>
                  </li>
                  <li>
                    <a href="#activities-activities-update" class="toc-h2 toc-link" data-title="activities/activities#update">activities/activities#update</a>
                  </li>
                  <li>
                    <a href="#activities-activities-activate" class="toc-h2 toc-link" data-title="activities/activities#activate">activities/activities#activate</a>
                  </li>
                  <li>
                    <a href="#activities-activities-inactivate" class="toc-h2 toc-link" data-title="activities/activities#inactivate">activities/activities#inactivate</a>
                  </li>
                  <li>
                    <a href="#activities-show" class="toc-h2 toc-link" data-title="activities#show">activities#show</a>
                  </li>
                  <li>
                    <a href="#activities-activity_schedules-index" class="toc-h2 toc-link" data-title="activities/activity_schedules#index">activities/activity_schedules#index</a>
                  </li>
                  <li>
                    <a href="#activities-activity_schedules-create" class="toc-h2 toc-link" data-title="activities/activity_schedules#create">activities/activity_schedules#create</a>
                  </li>
                  <li>
                    <a href="#activities-activity_schedules-update" class="toc-h2 toc-link" data-title="activities/activity_schedules#update">activities/activity_schedules#update</a>
                  </li>
                  <li>
                    <a href="#activities-activity_schedules-show" class="toc-h2 toc-link" data-title="activities/activity_schedules#show">activities/activity_schedules#show</a>
                  </li>
                  <li>
                    <a href="#activities-condition-index" class="toc-h2 toc-link" data-title="activities/condition#index">activities/condition#index</a>
                  </li>
                  <li>
                    <a href="#activities-condition-create" class="toc-h2 toc-link" data-title="activities/condition#create">activities/condition#create</a>
                  </li>
                  <li>
                    <a href="#activities-condition-update" class="toc-h2 toc-link" data-title="activities/condition#update">activities/condition#update</a>
                  </li>
                  <li>
                    <a href="#activities-condition-show" class="toc-h2 toc-link" data-title="activities/condition#show">activities/condition#show</a>
                  </li>
                  <li>
                    <a href="#activities-condition-activate" class="toc-h2 toc-link" data-title="activities/condition#activate">activities/condition#activate</a>
                  </li>
                  <li>
                    <a href="#activities-activities-activate" class="toc-h2 toc-link" data-title="activities/activities#activate">activities/activities#activate</a>
                  </li>
                  <li>
                    <a href="#activities-participants-index" class="toc-h2 toc-link" data-title="activities/participants#index">activities/participants#index</a>
                  </li>
                  <li>
                    <a href="#activities-participants-show" class="toc-h2 toc-link" data-title="activities/participants#show">activities/participants#show</a>
                  </li>
                  <li>
                    <a href="#activities-participants-create" class="toc-h2 toc-link" data-title="activities/participants#create">activities/participants#create</a>
                  </li>
                  <li>
                    <a href="#activities-participants-confirm" class="toc-h2 toc-link" data-title="activities/participants#confirm">activities/participants#confirm</a>
                  </li>
                  <li>
                    <a href="#activities-participants-attend" class="toc-h2 toc-link" data-title="activities/participants#attend">activities/participants#attend</a>
                  </li>
                  <li>
                    <a href="#activities-participants-cancel" class="toc-h2 toc-link" data-title="activities/participants#cancel">activities/participants#cancel</a>
                  </li>
                  <li>
                    <a href="#activities-question-index" class="toc-h2 toc-link" data-title="activities/question#index">activities/question#index</a>
                  </li>
                  <li>
                    <a href="#activities-question-show" class="toc-h2 toc-link" data-title="activities/question#show">activities/question#show</a>
                  </li>
                  <li>
                    <a href="#activities-question-create" class="toc-h2 toc-link" data-title="activities/question#create">activities/question#create</a>
                  </li>
                  <li>
                    <a href="#activities-question-update" class="toc-h2 toc-link" data-title="activities/question#update">activities/question#update</a>
                  </li>
                  <li>
                    <a href="#activities-question-activate" class="toc-h2 toc-link" data-title="activities/question#activate">activities/question#activate</a>
                  </li>
                  <li>
                    <a href="#activities-question-inactivate" class="toc-h2 toc-link" data-title="activities/question#inactivate">activities/question#inactivate</a>
                  </li>
                  <li>
                    <a href="#activities-question-index" class="toc-h2 toc-link" data-title="activities/question#index">activities/question#index</a>
                  </li>
                  <li>
                    <a href="#activities-question-show" class="toc-h2 toc-link" data-title="activities/question#show">activities/question#show</a>
                  </li>
                  <li>
                    <a href="#activities-choice-create" class="toc-h2 toc-link" data-title="activities/choice#create">activities/choice#create</a>
                  </li>
                  <li>
                    <a href="#activities-question-update" class="toc-h2 toc-link" data-title="activities/question#update">activities/question#update</a>
                  </li>
                  <li>
                    <a href="#activities-question-destroy" class="toc-h2 toc-link" data-title="activities/question#destroy">activities/question#destroy</a>
                  </li>
                  <li>
                    <a href="#activities-answer-index" class="toc-h2 toc-link" data-title="activities/answer#index">activities/answer#index</a>
                  </li>
                  <li>
                    <a href="#activities-choice-create" class="toc-h2 toc-link" data-title="activities/choice#create">activities/choice#create</a>
                  </li>
                  <li>
                    <a href="#activities-answer-show" class="toc-h2 toc-link" data-title="activities/answer#show">activities/answer#show</a>
                  </li>
                  <li>
                    <a href="#errors" class="toc-h2 toc-link" data-title="Errors">Errors</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#partner-apis" class="toc-h1 toc-link" data-title="Partner APIs">Partner APIs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#partner-apis-introductions" class="toc-h2 toc-link" data-title="Partner APIs Introductions">Partner APIs Introductions</a>
                  </li>
                  <li>
                    <a href="#1-redirecting-to-partner-site" class="toc-h2 toc-link" data-title="1. Redirecting to partner site">1. Redirecting to partner site</a>
                  </li>
                  <li>
                    <a href="#2-1-get-appointment-data" class="toc-h2 toc-link" data-title="2.1 Get Appointment Data">2.1 Get Appointment Data</a>
                  </li>
                  <li>
                    <a href="#2-2-complete-or-confirm-appointment" class="toc-h2 toc-link" data-title="2.2 Complete or Confirm Appointment">2.2 Complete or Confirm Appointment</a>
                  </li>
                  <li>
                    <a href="#2-3-cancel-appointment" class="toc-h2 toc-link" data-title="2.3 Cancel Appointment">2.3 Cancel Appointment</a>
                  </li>
                  <li>
                    <a href="#2-4-update-appointment" class="toc-h2 toc-link" data-title="2.4 Update Appointment">2.4 Update Appointment</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li>Digital Platform</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='clients-apis'>Clients APIs</h1><h2 id='client-apis-introductions'>Client APIs Introductions</h2>
<p>Welcome to digital platform. In this section, you should see how to implement API calls via <code>Clients APIs</code>.</p>

<p>Please read <a href="#authentication">Authentication</a> section before proceeding.</p>
<h2 id='authentication'>Authentication</h2>
<blockquote>
<p>To authorize, check this example:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">"/api/v1/client/${apiKey}/some/api/path"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>apiKey</code> with your API key and <code>apiSecret</code> with your API Secret.</p>
</blockquote>

<p>Digital Platform api use JWT to secure all it APIs. Please contact Sansiri for apiKey and apiSecret.</p>

<p>With apiKey, generate JWT with this payload</p>

<p><code>payload = { api_key: apiKey, exp: Time.now.to_i + 1.minute }</code></p>

<p>With the payload above, sign it with JWT Secret.</p>

<p><code>let token = jwt.sign(payload, apiSecret);</code></p>

<p>Include token in every request header for each of your api call.</p>

<p><code>CMSAuthToken: Bearer token</code></p>

<p>There is an example on the right written in NodeJS using <code>request</code>, <code>request-promise</code>, and <code>jsonwebtoken</code> packages.</p>

<aside class="notice">
Make sure to replace <code>json.web.token</code> with JWT generated from <code>apiKey</code> and <code>`apiSecret`</code> with 1 minute expiry.
</aside>
<h2 id='activities-index'>activities#index</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"171s_vNNF9yI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fLxeDNuLY6Z2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN PLANTING"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shop_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition_detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BANGKOK"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"running_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT190030"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0_5eB6GXz3Wc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN - All Users"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-03T18:28:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30T18:28:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">498</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fLxeDNuLY6Z2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">498</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>name</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>shop_name</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>condition_detail</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>location</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>activity_volume</td>
<td>100</td>
<td>Total availability</td>
</tr>
<tr>
<td>activity_available</td>
<td>99</td>
<td>space left</td>
</tr>
<tr>
<td>running_number</td>
<td>ATXXXXXX</td>
<td>Activity Running number / code</td>
</tr>
<tr>
<td>user_type</td>
<td>all_user</td>
<td>priority,family,employee,all_user</td>
</tr>
</tbody></table>
<h2 id='activities-activities-create'>activities/activities#create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"activity"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"test client activity 102"</span><span class="p">,</span>
        <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"description"</span><span class="p">,</span>
        <span class="s2">"condition_detail"</span><span class="p">:</span> <span class="s2">"condition"</span><span class="p">,</span>
        <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"location"</span><span class="p">,</span>
        <span class="s2">"shop_name"</span><span class="p">:</span> <span class="s2">"Shop1"</span><span class="p">,</span>
        <span class="s2">"activity_minimum_volume"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"prefix_booking_code"</span><span class="p">:</span> <span class="s2">"SHP"</span><span class="p">,</span>
        <span class="s2">"location_map"</span><span class="p">:</span> <span class="s2">"https://goo.gl/maps/UNazaRq6pkYAjAns9"</span><span class="p">,</span>
        <span class="s2">"maximum_seats_per_user"</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"171s_vNNF9yI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CNXM7DtV2fG2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test client activity 102"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shop_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shop1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition_detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"condition"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"running_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT190040"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_minimum_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://goo.gl/maps/UNazaRq6pkYAjAns9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T13:47:43.196+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T13:47:43.196+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint create participant for activityUid.
Please note that <code>member_firebase_uid</code> is from HSA Single Sign On</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /api/v1/client/${apiKey}/activities/${activityUid}/participants</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>client activity 102</td>
<td>Activity Name</td>
</tr>
<tr>
<td>description</td>
<td>Description</td>
<td>Activity description</td>
</tr>
<tr>
<td>condition_detail</td>
<td>Condition details</td>
<td>Condition details</td>
</tr>
<tr>
<td>location</td>
<td>Sathorn</td>
<td>Location Name</td>
</tr>
<tr>
<td>shop_name</td>
<td>Shop1</td>
<td>Shop Name</td>
</tr>
<tr>
<td>activity_minimum_volume</td>
<td>1</td>
<td>Minimum volume for this activity (Optional)</td>
</tr>
<tr>
<td>prefix_booking_code</td>
<td>PRE</td>
<td>Prefix 3 digits for participant booking ID running number</td>
</tr>
<tr>
<td>location_map</td>
<td>location map URL</td>
<td>location map URL</td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>1</td>
<td>Maximum seats per user for booking this activity</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>description</td>
<td>&quot;Description&quot;</td>
<td>Activity description</td>
</tr>
<tr>
<td>shop_name</td>
<td>&quot;Shop1&quot;</td>
<td>Shop name</td>
</tr>
<tr>
<td>condition_detail</td>
<td>&quot;Condition details&quot;</td>
<td>Condition details</td>
</tr>
<tr>
<td>location</td>
<td>&quot;Sathorn&quot;</td>
<td>Location name</td>
</tr>
<tr>
<td>status</td>
<td>&quot;active&quot;</td>
<td>Activity status</td>
</tr>
<tr>
<td>running_number</td>
<td>&quot;AT190040&quot;</td>
<td>Activity ID</td>
</tr>
<tr>
<td>activity_conditions</td>
<td>&quot;Condition details&quot;</td>
<td>Condition details</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;100&quot;</td>
<td>Activity volume summary from all active condition</td>
</tr>
<tr>
<td>activity_available</td>
<td>&quot;50&quot;</td>
<td>Activity volume summary from all available seats</td>
</tr>
<tr>
<td>activity_minimum_volume</td>
<td>&quot;1&quot;</td>
<td>Minimum volume for this activity</td>
</tr>
<tr>
<td>location_map</td>
<td>&quot;location map URL&quot;</td>
<td>location map URL</td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>&quot;1&quot;</td>
<td>Maximum seats per user for booking this activity</td>
</tr>
</tbody></table>
<h2 id='activities-activities-update'>activities/activities#update</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"locale"</span><span class="p">:</span> <span class="s2">"en"</span><span class="p">,</span>
    <span class="s2">"activity"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"test client activity 102"</span><span class="p">,</span>
        <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"description"</span><span class="p">,</span>
        <span class="s2">"condition_detail"</span><span class="p">:</span> <span class="s2">"condition"</span><span class="p">,</span>
        <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"location"</span><span class="p">,</span>
        <span class="s2">"shop_name"</span><span class="p">:</span> <span class="s2">"Shop1"</span><span class="p">,</span>
        <span class="s2">"activity_minimum_volume"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"prefix_booking_code"</span><span class="p">:</span> <span class="s2">"SHP"</span><span class="p">,</span>
        <span class="s2">"location_map"</span><span class="p">:</span> <span class="s2">"https://goo.gl/maps/UNazaRq6pkYAjAns9"</span><span class="p">,</span>
        <span class="s2">"maximum_seats_per_user"</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"171s_vNNF9yI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CNXM7DtV2fG2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test client activity 102"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shop_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shop1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition_detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"condition"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"running_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT190040"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_minimum_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://goo.gl/maps/UNazaRq6pkYAjAns9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T13:47:43.196+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T13:47:43.196+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint create participant for activityUid.
Please note that <code>member_firebase_uid</code> is from HSA Single Sign On</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /api/v1/client/${apiKey}/activities/${activityUid}/participants</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>locale</td>
<td>en</td>
<td>update language &#39;th&#39;, &#39;en&#39;</td>
</tr>
<tr>
<td>name</td>
<td>client activity 102</td>
<td>Activity Name</td>
</tr>
<tr>
<td>description</td>
<td>Description</td>
<td>Activity description</td>
</tr>
<tr>
<td>condition_detail</td>
<td>Condition details</td>
<td>Condition details</td>
</tr>
<tr>
<td>location</td>
<td>Sathorn</td>
<td>Location Name</td>
</tr>
<tr>
<td>shop_name</td>
<td>Shop1</td>
<td>Shop Name</td>
</tr>
<tr>
<td>activity_minimum_volume</td>
<td>1</td>
<td>Minimum volume for this activity (Optional)</td>
</tr>
<tr>
<td>prefix_booking_code</td>
<td>PRE</td>
<td>Prefix 3 digits for participant booking ID running number</td>
</tr>
<tr>
<td>location_map</td>
<td>location map URL</td>
<td>location map URL</td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>1</td>
<td>Maximum seats per user for booking this activity</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>description</td>
<td>&quot;Description&quot;</td>
<td>Activity description</td>
</tr>
<tr>
<td>shop_name</td>
<td>&quot;Shop1&quot;</td>
<td>Shop name</td>
</tr>
<tr>
<td>condition_detail</td>
<td>&quot;Condition details&quot;</td>
<td>Condition details</td>
</tr>
<tr>
<td>location</td>
<td>&quot;Sathorn&quot;</td>
<td>Location name</td>
</tr>
<tr>
<td>status</td>
<td>&quot;active&quot;</td>
<td>Activity status</td>
</tr>
<tr>
<td>running_number</td>
<td>&quot;AT190040&quot;</td>
<td>Activity ID</td>
</tr>
<tr>
<td>activity_conditions</td>
<td>&quot;Condition details&quot;</td>
<td>Condition details</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;100&quot;</td>
<td>Activity volume summary from all active condition</td>
</tr>
<tr>
<td>activity_available</td>
<td>&quot;50&quot;</td>
<td>Activity volume summary from all available seats</td>
</tr>
<tr>
<td>activity_minimum_volume</td>
<td>&quot;1&quot;</td>
<td>Minimum volume for this activity</td>
</tr>
<tr>
<td>location_map</td>
<td>&quot;location map URL&quot;</td>
<td>location map URL</td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>&quot;1&quot;</td>
<td>Maximum seats per user for booking this activity</td>
</tr>
</tbody></table>
<h2 id='activities-activities-activate'>activities/activities#activate</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/activate`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"171s_vNNF9yI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test client activity Hello"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shop_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shop1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition_detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"condition"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"running_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT190027"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:22:25.146+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:24:50.775+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_minimum_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T11:36:47.433+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T16:31:10.728+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/activate</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>inactive</td>
<td>Activity status</td>
</tr>
</tbody></table>
<h2 id='activities-activities-inactivate'>activities/activities#inactivate</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/inactivate`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"171s_vNNF9yI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test client activity Hello"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"shop_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shop1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"condition_detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"condition"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"running_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT190027"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:22:25.146+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:24:50.775+07:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
            </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_minimum_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T11:36:47.433+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T16:36:08.565+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/inactivate</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>active</td>
<td>Activity status</td>
</tr>
</tbody></table>
<h2 id='activities-show'>activities#show</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"171s_vNNF9yI"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fLxeDNuLY6Z2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN PLANTING"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shop_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"condition_detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BANGKOK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"running_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT190030"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activity_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0_5eB6GXz3Wc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN - All Users"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-03T18:28:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30T18:28:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">498</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fLxeDNuLY6Z2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activity_available"</span><span class="p">:</span><span class="w"> </span><span class="mi">498</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves one activity from uid.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /api/v1/client/${apiKey}/activities/${activityUid}</code></p>

<aside class="notice">
Remember — a happy api require `activityUid`.
</aside>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>name</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>shop_name</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>condition_detail</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>location</td>
<td>&quot;&quot;</td>
<td></td>
</tr>
<tr>
<td>activity_volume</td>
<td>100</td>
<td>Total availability</td>
</tr>
<tr>
<td>activity_available</td>
<td>99</td>
<td>space left</td>
</tr>
<tr>
<td>running_number</td>
<td>ATXXXXXX</td>
<td>Activity Running number / code</td>
</tr>
<tr>
<td>user_type</td>
<td>all_user</td>
<td>priority,family,employee,all_user</td>
</tr>
</tbody></table>
<h2 id='activities-activity_schedules-index'>activities/activity_schedules#index</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/activity_schedules;

let expTime = Math.floor(Date.now() / 1000) + 60; // expiration + 60 seconds
let token = jwt.sign({ api_key: apiKey, exp: expTime }, apiSecret);

let options = {
  uri: `</span><span class="nx">$</span><span class="p">{</span><span class="nx">hostname</span><span class="p">}</span><span class="nx">$</span><span class="p">{</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`,
  headers: {
    CMSAuthToken: `</span><span class="nx">Bearer</span> <span class="nx">$</span><span class="p">{</span><span class="nx">token</span><span class="p">}</span><span class="s2">`
  },
  json: true
};
request(options)
  .then(function(response) {
    console.log("RESPONSE", response);
  })
  .catch(function(err) {
    console.log("ERR", err);
  });
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7PZBMHU16zx5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:11.736+07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:10:56.524+07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves one activity from uid.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /api/v1/client/${apiKey}/activities/${activityUid}/activity_schedules</code></p>

<aside class="notice">
Remember — a happy api require `activityUid`.
</aside>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Schedule start date/time</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Schedule end date/time</td>
</tr>
<tr>
<td>description</td>
<td>&quot;description&quot;</td>
<td></td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>2</td>
<td></td>
</tr>
</tbody></table>
<h2 id='activities-activity_schedules-create'>activities/activity_schedules#create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/activity_schedules`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"activity_schedule"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"start_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-19T12:09:05+07:00"</span><span class="p">,</span>
        <span class="s2">"end_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-20T12:08:43+07:00"</span><span class="p">,</span>
        <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"description"</span><span class="p">,</span>
        <span class="s2">"maximum_seats_per_user"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kGQM4hOvO-__"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
  </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T17:26:25.543+07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T17:26:25.543+07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint create participant for activityUid.
Please note that <code>member_firebase_uid</code> is from HSA Single Sign On</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /api/v1/client/${apiKey}/activities/${activityUid}/participants</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Schedule start date/time</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Schedule end date/time</td>
</tr>
<tr>
<td>description</td>
<td>&quot;description&quot;</td>
<td></td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>&quot;2&quot;</td>
<td></td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Schedule start date/time</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Schedule end date/time</td>
</tr>
<tr>
<td>description</td>
<td>&quot;description&quot;</td>
<td></td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>&quot;2&quot;</td>
<td></td>
</tr>
</tbody></table>
<h2 id='activities-activity_schedules-update'>activities/activity_schedules#update</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"activity_schedule"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">"start_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-19T12:09:05+07:00"</span><span class="p">,</span>
             <span class="s2">"end_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-20T12:08:43+07:00"</span><span class="p">,</span>
              <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"description"</span><span class="p">,</span>
               <span class="s2">"maximum_seats_per_user"</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7PZBMHU16zx5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:11.736+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:10:56.524+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint create participant for activityUid.
Please note that <code>member_firebase_uid</code> is from HSA Single Sign On</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activity_uid}/activity_schedules/${uid}</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Schedule start date/time</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Schedule end date/time</td>
</tr>
<tr>
<td>description</td>
<td>&quot;description&quot;</td>
<td></td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>&quot;2&quot;</td>
<td></td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Schedule start date/time</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Schedule end date/time</td>
</tr>
<tr>
<td>description</td>
<td>&quot;description&quot;</td>
<td></td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>&quot;2&quot;</td>
<td>Maximum seats per user for this activity</td>
</tr>
</tbody></table>
<h2 id='activities-activity_schedules-show'>activities/activity_schedules#show</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7PZBMHU16zx5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:11.736+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:10:56.524+07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"maximum_seats_per_user"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint create participant for activityUid.
Please note that <code>member_firebase_uid</code> is from HSA Single Sign On</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/activity_schedules/${uid}</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Schedule start date/time</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Schedule end date/time</td>
</tr>
<tr>
<td>description</td>
<td>&quot;description&quot;</td>
<td></td>
</tr>
<tr>
<td>maximum_seats_per_user</td>
<td>&quot;2&quot;</td>
<td></td>
</tr>
</tbody></table>
<h2 id='activities-condition-index'>activities/condition#index</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">activity_schedule_uid</span><span class="p">}</span><span class="s2">/activity_conditions`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:22:25.146+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:24:50.775+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/activity_schedules/${activity_schedule_uid}/activity_conditions</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>name</td>
<td>&quot;activity_condition 1&quot;</td>
<td>Condition Name</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Condition start date</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Condition end date</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;1000&quot;</td>
<td>Total availability for this condition</td>
</tr>
<tr>
<td>user_type</td>
<td>&quot;sansiri_family&quot;</td>
<td>Sansiri family user type</td>
</tr>
<tr>
<td>available_quota</td>
<td>&quot;999&quot;</td>
<td>Available quota for this condition</td>
</tr>
<tr>
<td>activity_uid</td>
<td>&quot;NB2sMQWstgQZ&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
</tbody></table>
<h2 id='activities-condition-create'>activities/condition#create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">activity_schedule_uid</span><span class="p">}</span><span class="s2">/activity_conditions`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"activity_condition"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"activity_condition 2"</span><span class="p">,</span>
    <span class="s2">"start_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-19T12:09:05+07:00"</span><span class="p">,</span>
    <span class="s2">"end_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-20T12:08:43+07:00"</span><span class="p">,</span>
    <span class="s2">"activity_volume"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"user_type"</span><span class="p">:</span> <span class="s2">"sansiri_family"</span>
    <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HhjeK9htqkob"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T01:30:51.864+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T01:30:51.864+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST /api/v1/client/${apiKey}/activities/${activity_uid}/activity_schedules/${activity_schedule_uid}/activity_conditions</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>&quot;activity_condition 1&quot;</td>
<td>Condition Name</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Condition start date</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Condition end date</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;1000&quot;</td>
<td>Total availability for this condition</td>
</tr>
<tr>
<td>user_type</td>
<td>&quot;sansiri_family&quot;</td>
<td>Sansiri family user type</td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>name</td>
<td>&quot;activity_condition 1&quot;</td>
<td>Condition Name</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Condition start date</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Condition end date</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;1000&quot;</td>
<td>Total availability for this condition</td>
</tr>
<tr>
<td>user_type</td>
<td>&quot;sansiri_family&quot;</td>
<td>Sansiri family user type</td>
</tr>
<tr>
<td>available_quota</td>
<td>&quot;999&quot;</td>
<td>Available quota for this condition</td>
</tr>
<tr>
<td>activity_uid</td>
<td>&quot;NB2sMQWstgQZ&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
</tbody></table>
<h2 id='activities-condition-update'>activities/condition#update</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">activity_schedule_uid</span><span class="p">}</span><span class="s2">/activity_conditions/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"activity_condition"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"activity_condition 1"</span><span class="p">,</span>
        <span class="s2">"start_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-19T12:09:05+07:00"</span><span class="p">,</span>
        <span class="s2">"end_datetime"</span><span class="p">:</span> <span class="s2">"2019-09-20T12:08:43+07:00"</span><span class="p">,</span>
        <span class="s2">"activity_volume"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s2">"user_type"</span><span class="p">:</span> <span class="s2">"sansiri_family"</span>
            <span class="p">}</span>
        <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:22:25.146+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T21:02:04.322+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST /api/v1/client/${apiKey}/activities/${activity_uid}/activity_schedules/${activity_schedule_uid}/activity_conditions/${uid}</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>&quot;activity_condition 1&quot;</td>
<td>Condition Name</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Condition start date</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Condition end date</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;1000&quot;</td>
<td>Total availability for this condition</td>
</tr>
<tr>
<td>user_type</td>
<td>&quot;sansiri_family&quot;</td>
<td>Sansiri family user type</td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>name</td>
<td>&quot;activity_condition 1&quot;</td>
<td>Condition Name</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Condition start date</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Condition end date</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;1000&quot;</td>
<td>Total availability for this condition</td>
</tr>
<tr>
<td>user_type</td>
<td>&quot;sansiri_family&quot;</td>
<td>Sansiri family user type</td>
</tr>
<tr>
<td>available_quota</td>
<td>&quot;999&quot;</td>
<td>Available quota for this condition</td>
</tr>
<tr>
<td>activity_uid</td>
<td>&quot;NB2sMQWstgQZ&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
</tbody></table>
<h2 id='activities-condition-show'>activities/condition#show</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">activity_schedule_uid</span><span class="p">}</span><span class="s2">/activity_conditions/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>


<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:22:25.146+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T21:02:04.322+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/activity_schedules/${activity_schedule_uid}/activity_conditions/${uid}</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>name</td>
<td>&quot;activity_condition 1&quot;</td>
<td>Condition Name</td>
</tr>
<tr>
<td>start_datetime</td>
<td>&quot;2019-09-19T12:09:05.000+07:00&quot;</td>
<td>Condition start date</td>
</tr>
<tr>
<td>end_datetime</td>
<td>&quot;2019-09-20T12:08:43.000+07:00&quot;</td>
<td>Condition end date</td>
</tr>
<tr>
<td>activity_volume</td>
<td>&quot;1000&quot;</td>
<td>Total availability for this condition</td>
</tr>
<tr>
<td>user_type</td>
<td>&quot;sansiri_family&quot;</td>
<td>Sansiri family user type</td>
</tr>
<tr>
<td>available_quota</td>
<td>&quot;999&quot;</td>
<td>Available quota for this condition</td>
</tr>
<tr>
<td>activity_uid</td>
<td>&quot;NB2sMQWstgQZ&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
</tbody></table>
<h2 id='activities-condition-activate'>activities/condition#activate</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/:activity_uid/activity_schedules/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/activity_conditions/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">/activate`</span><span class="p">;</span>


<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:22:25.146+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T10:13:47.954+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/:activity_uid/activity_schedules/${activityUid}/activity_conditions/${uid}/activate</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>active</td>
<td>condition status</td>
</tr>
</tbody></table>
<h2 id='activities-activities-activate'>activities/activities#activate</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/inactivate`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"activity_schedule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"activity_condition 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:09:05.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T12:08:43.000+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:22:25.146+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-20T10:13:47.954+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"available_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NB2sMQWstgQZ"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/inactivate</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>inactive</td>
<td>condition status</td>
</tr>
</tbody></table>
<h2 id='activities-participants-index'>activities/participants#index</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/participants`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cPsF-wBftDcs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ชอร์ตง ฮอง นายโฮยิน ฮอง"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"attended_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0_5eB6GXz3Wc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN - All Users"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-03T18:28:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30T18:28:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all participants from activity.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /api/v1/client/${apiKey}/activities/${activityUid}/participants</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>status</td>
<td>&quot;attending&quot;</td>
<td>attending,attended,canceled</td>
</tr>
<tr>
<td>attended_datetime</td>
<td></td>
<td>time stamp when attendance is checked</td>
</tr>
</tbody></table>
<h2 id='activities-participants-show'>activities/participants#show</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">activity_schedule_uid</span><span class="p">}</span><span class="s2">/participants/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uL6azx8TDKmv"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"khemmapon@mailinator.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0886565880"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attended"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:52:49.642+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T13:00:21.348+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attended_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T13:00:21.354+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"booking_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHP20191974373"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"seats_reserved"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"confirmed_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T12:59:44.714+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"env"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"q-eCTA9W7Fjw"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T15:30:42.188+07:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19T21:02:04.773+07:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"firebase_login_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"member_type_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"sansiri_family"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"main_member_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sansiri_family"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"frontend_firebase_json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"identitytoolkit#VerifyPasswordResponse"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"khemmapon@mailinator.com"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"idToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyZjBiNDZjYjc1OTBjNzRmNTNhYzdhOWUwY2IxYzAzMjRlY2RkNzUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vaHNhLWRldiIsImF1ZCI6ImhzYS1kZXYiLCJhdXRoX3RpbWUiOjE1NTc5ODE2MDgsInVzZXJfaWQiOiJQY0g3N3hzaHNLU0EzbDRyV3AyS0lDNlIzbTQzIiwic3ViIjoiUGNINzd4c2hzS1NBM2w0cldwMktJQzZSM200MyIsImlhdCI6MTU1Nzk4MTYwOCwiZXhwIjoxNTU3OTg1MjA4LCJlbWFpbCI6ImtoZW1tYXBvbkBtYWlsaW5hdG9yLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJraGVtbWFwb25AbWFpbGluYXRvci5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.LJuMDsDmGv1XgWCuVd0NH4M7fqn81yCQ9kJhBtlakNwzaTWHawEjVN653JxhrlVjWBPQK4FdcKSByo5UahdoklcLI6rLBonoNKlDumEqp-25_2XJISp8aa_EWNUojq8zldDrxDQ2a88MLIOgUHUnb5EnkyYUbmJtVkczipXMFbZah9GoAm62FZfeiStdeswhCSUkwIQvEcn--2CVLL8CQPIm8UaDgEK3mbq3iwx8_lcCfvVyr3aIPOrP_Larbql2-RJJ6GdS3TgcAvvEhsxYgLTGwjrna38wBV1GV6e38Ng-Ucxl7iAtXQ6Bcb1_iTl_OrZ_rLdCxTVBQEmGGkmPJA"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"localId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PcH77xshsKSA3l4rWp2KIC6R3m43"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"expiresIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3600"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"registered"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="s2">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"refreshToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AEu4IL0BIiwrZ6ZqClXv7guUcSDA4xeRLEeqSehWZ_TGi_8QJtyRj3dlS0JDWLKsL5vothkyrBAKgyGWsBx2Yh0LD7ov_2SSgiJIeSDBsA30jqPHxHPKBCov4DwXd8QyDXQ_9scblABE8o3X51s5lGf2P-9u_VnU0Mt1sbd12f_gaXuOr6f1TQf-70WmMbvsICylkn0lFm1x"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1557985208</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"khemmapon@mailinator.com"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0886565880"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ขงเบ้งน้อย"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"กรุ๊ป จำกัด"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"local_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ขงเบ้งน้อย"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"local_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"กรุ๊ป จำกัด"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"id_card_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0105559028702"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"passport"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-19"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"profile_editable_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="s2">"local_first_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="s2">"local_last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"activity_condition_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sDhinqoIwHHc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all participants from activity.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/activity_schedules/${activity_schedule_uid}/participants/${uid}</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>name</td>
<td>&quot;name1&quot;</td>
<td>members name String</td>
</tr>
<tr>
<td>user_type</td>
<td>&quot;sansiri_family&quot;</td>
<td>sansiri_family, sansiri_priority</td>
</tr>
<tr>
<td>email</td>
<td>&quot;khemmapon@mailinator.com&quot;</td>
<td>email login</td>
</tr>
<tr>
<td>telephone</td>
<td>&quot;0886565880&quot;</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>&quot;attending&quot;</td>
<td>attending,confirm,attended,canceled</td>
</tr>
<tr>
<td>attended_datetime</td>
<td>&quot;2019-09-19T13:00:21.354+07:00&quot;</td>
<td>time stamp when attendance is checked</td>
</tr>
<tr>
<td>booking_code</td>
<td>&quot;SHP20191974373&quot;</td>
<td></td>
</tr>
<tr>
<td>seats_reserved</td>
<td>1</td>
<td>seats reserved count</td>
</tr>
<tr>
<td>confirmed_datetime</td>
<td>&quot;2019-09-19T12:59:44.714+07:00&quot;</td>
<td>time stamp when confirm is checked</td>
</tr>
</tbody></table>
<h2 id='activities-participants-create'>activities/participants#create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/participants`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">member_firebase_uid</span><span class="p">:</span> <span class="s2">"ivnfitklsispp"</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cPsF-wBftDcs"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ชอร์ตง ฮอง นายโฮยิน ฮอง"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attended_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activity_condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0_5eB6GXz3Wc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN - All Users"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-03T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint create participant for activityUid.
Please note that <code>member_firebase_uid</code> is from HSA Single Sign On</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /api/v1/client/${apiKey}/activities/${activityUid}/participants</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>member_firebase_uid</td>
<td>&quot;1aae11f119d28015e342&quot;</td>
<td>Firebase UID from HSA Single Sign On</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>status</td>
<td>&quot;attending&quot;</td>
<td></td>
</tr>
</tbody></table>
<h2 id='activities-participants-confirm'>activities/participants#confirm</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">participantUid</span> <span class="o">=</span> <span class="s2">"cPsF-wBftDcs"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">activity_schedule_uid</span><span class="p">}</span><span class="s2">/participants/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">/confirm`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cPsF-wBftDcs"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ชอร์ตง ฮอง นายโฮยิน ฮอง"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attended"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attended_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activity_condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0_5eB6GXz3Wc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN - All Users"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-03T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint update participant <code>participantUid</code> status to <code>attended</code>.</p>

<blockquote>
<p>Only <code>attending</code> can be transitioned to <code>confirmed</code>, <code>attended</code>. <code>canceled</code> cannot be toggle to attended to prevent over capacity booking.</p>
</blockquote>

<p>API validates that <code>participantUid</code> belongs to <code>activityUid</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/participants/${participantUid}/attend</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>status</td>
<td>&quot;confirmed&quot;</td>
<td></td>
</tr>
</tbody></table>
<h2 id='activities-participants-attend'>activities/participants#attend</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">participantUid</span> <span class="o">=</span> <span class="s2">"cPsF-wBftDcs"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/participants/</span><span class="p">${</span><span class="nx">participantUid</span><span class="p">}</span><span class="s2">/attend`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cPsF-wBftDcs"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ชอร์ตง ฮอง นายโฮยิน ฮอง"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attended"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attended_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activity_condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0_5eB6GXz3Wc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN - All Users"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-03T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint update participant <code>participantUid</code> status to <code>attended</code>.</p>

<blockquote>
<p>Only <code>attending</code> can be transitioned to <code>comfirmed</code>,<code>attended</code>. <code>canceled</code> cannot be toggle to attended to prevent over capacity booking.</p>
</blockquote>

<p>API validates that <code>participantUid</code> belongs to <code>activityUid</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/participants/${participantUid}/attend</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>status</td>
<td>&quot;attended&quot;</td>
<td></td>
</tr>
</tbody></table>
<h2 id='activities-participants-cancel'>activities/participants#cancel</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">participantUid</span> <span class="o">=</span> <span class="s2">"cPsF-wBftDcs"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/activity_schedules/</span><span class="p">${</span><span class="nx">activity_schedule_uid</span><span class="p">}</span><span class="s2">/participants/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">/cancel`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cPsF-wBftDcs"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ชอร์ตง ฮอง นายโฮยิน ฮอง"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-23T03:20:44.388Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"attended_datetime"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activity_condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0_5eB6GXz3Wc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GARDEN - All Users"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-03T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-30T18:28:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T18:28:15.957Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint update participant <code>participantUid</code> status to <code>canceled</code>.</p>

<blockquote>
<p>Only <code>attending</code> or <code>attended</code> can be transitioned to <code>canceled</code></p>
</blockquote>

<p>API validates that <code>participantUid</code> belongs to <code>activityUid</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/activity_schedules/${activity_schedule_uid}/participants/${uid}/cancel</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;cPsF-wBftDcs&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>status</td>
<td>&quot;canceled&quot;</td>
<td></td>
</tr>
</tbody></table>
<h2 id='activities-question-index'>activities/question#index</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
            </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lG4oYTZ6WFuE"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"question_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"q2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"question_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/questions</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>question_text</td>
<td>&quot;q2&quot;</td>
<td>question text</td>
</tr>
<tr>
<td>status</td>
<td>&quot;active&quot;</td>
<td>active, inactive</td>
</tr>
<tr>
<td>question_type</td>
<td>&quot;text&quot;</td>
<td>checkbox, radio, text</td>
</tr>
<tr>
<td>is_multiple</td>
<td>false</td>
<td>true, false</td>
</tr>
</tbody></table>
<h2 id='activities-question-show'>activities/question#show</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
            </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lG4oYTZ6WFuE"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"question_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"q2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"question_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${uid}</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>question_text</td>
<td>&quot;q2&quot;</td>
<td>question text</td>
</tr>
<tr>
<td>status</td>
<td>&quot;active&quot;</td>
<td>active, inactive</td>
</tr>
<tr>
<td>question_type</td>
<td>&quot;text&quot;</td>
<td>checkbox, radio, text</td>
</tr>
<tr>
<td>is_multiple</td>
<td>false</td>
<td>true, false</td>
</tr>
</tbody></table>
<h2 id='activities-question-create'>activities/question#create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"question"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">"question_text"</span><span class="p">:</span> <span class="s2">"Hello"</span><span class="p">,</span>
            <span class="s2">"question_type"</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
            <span class="s2">"is_multiple"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"sorting_index"</span><span class="p">:</span> <span class="mf">1.0</span>
    <span class="p">}</span>
<span class="p">}</span>

  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fwJ7QGg2-fr1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST /api/v1/client/${apiKey}/activities/${activity_uid}/questions</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>question_text</td>
<td>&quot;q2&quot;</td>
<td>question text</td>
</tr>
<tr>
<td>question_type</td>
<td>&quot;text&quot;</td>
<td>checkbox, radio, text</td>
</tr>
<tr>
<td>is_multiple</td>
<td>false</td>
<td>true, false</td>
</tr>
<tr>
<td>sorting_index</td>
<td>1.0</td>
<td>decimal</td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>question_text</td>
<td>&quot;q2&quot;</td>
<td>question text</td>
</tr>
<tr>
<td>status</td>
<td>&quot;active&quot;</td>
<td>active, inactive</td>
</tr>
<tr>
<td>question_type</td>
<td>&quot;text&quot;</td>
<td>checkbox, radio, text</td>
</tr>
<tr>
<td>is_multiple</td>
<td>false</td>
<td>true, false</td>
</tr>
</tbody></table>
<h2 id='activities-question-update'>activities/question#update</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"question"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">"question_text"</span><span class="p">:</span> <span class="s2">"Hello"</span><span class="p">,</span>
            <span class="s2">"question_type"</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
            <span class="s2">"is_multiple"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"sorting_index"</span><span class="p">:</span> <span class="mf">1.0</span>
    <span class="p">}</span>
<span class="p">}</span>

  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fwJ7QGg2-fr1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${uid}</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>question_text</td>
<td>&quot;q2&quot;</td>
<td>question text</td>
</tr>
<tr>
<td>question_type</td>
<td>&quot;text&quot;</td>
<td>checkbox, radio, text</td>
</tr>
<tr>
<td>is_multiple</td>
<td>false</td>
<td>true, false</td>
</tr>
<tr>
<td>sorting_index</td>
<td>1.0</td>
<td>decimal</td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>question_text</td>
<td>&quot;q2&quot;</td>
<td>question text</td>
</tr>
<tr>
<td>status</td>
<td>&quot;active&quot;</td>
<td>active, inactive</td>
</tr>
<tr>
<td>question_type</td>
<td>&quot;text&quot;</td>
<td>checkbox, radio, text</td>
</tr>
<tr>
<td>is_multiple</td>
<td>false</td>
<td>true, false</td>
</tr>
</tbody></table>
<h2 id='activities-question-activate'>activities/question#activate</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">/activate`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YdfqgsybLQFG"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activityUid}/questions/${uid}/activate</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>active</td>
<td>active, inactive</td>
</tr>
</tbody></table>
<h2 id='activities-question-inactivate'>activities/question#inactivate</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">activityUid</span> <span class="o">=</span> <span class="s2">"sirnbiusASDIIH"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/:activity_uid/activity_schedules/</span><span class="p">${</span><span class="nx">activityUid</span><span class="p">}</span><span class="s2">/activity_conditions/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">/inactivate`</span><span class="p">;</span>


<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YdfqgsybLQFG"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"question_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>PATCH /api/v1/client/${apiKey}/activities/:activity_uid/activity_schedules/${activityUid}/activity_conditions/${uid}/inactivate</code></p>
<h3 id='response'>Response</h3>
<p><code>TYPE: Object</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>inactive</td>
<td>active, inactive</td>
</tr>
</tbody></table>
<h2 id='activities-question-index'>activities/question#index</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">question_uid</span><span class="p">}</span><span class="s2">/choices`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
            </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ETVc01c8esq"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"choice_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${question_uid}/choices</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h2 id='activities-question-show'>activities/question#show</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">question_uid</span><span class="p">}</span><span class="s2">/choices/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ETVc01c8esq"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"choice_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${question_uid}/choices/${uid}</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h2 id='activities-choice-create'>activities/choice#create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">question_uid</span><span class="p">}</span><span class="s2">/choices`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"choice"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"choice_text"</span><span class="p">:</span> <span class="s2">"Hello"</span>
    <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
       </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88p1vWn5Y9Ti"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"choice_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${question_uid}/choices</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h2 id='activities-question-update'>activities/question#update</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/:question_uid/choices/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"PATCH"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"choice"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"choice_text"</span><span class="p">:</span> <span class="s2">"Hello"</span>
    <span class="p">}</span>
<span class="p">}</span>

  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
       </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88p1vWn5Y9Ti"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"choice_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>PATCH /api/v1/client/${apiKey}/activities/${activity_uid}/questions/:question_uid/choices/${uid}</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h2 id='activities-question-destroy'>activities/question#destroy</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/:question_uid/choices/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destroy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2ETVc01c8esq"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>DELETE /api/v1/client/${apiKey}/activities/${activity_uid}/questions/:question_uid/choices/${uid}</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>success</td>
<td>true</td>
<td>true, false</td>
</tr>
<tr>
<td>action</td>
<td>destroy</td>
<td>destroy</td>
</tr>
</tbody></table>
<h2 id='activities-answer-index'>activities/answer#index</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">question_uid</span><span class="p">}</span><span class="s2">/answers`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dLDMvE-iZZm6"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"answer_json_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"choice_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tWASdHKnRlg5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"choice_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="w">
     </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${question_uid}/answers</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_uid</td>
<td>&quot;tWASdHKnRlg5&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h2 id='activities-choice-create'>activities/choice#create</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">question_uid</span><span class="p">}</span><span class="s2">/answers?member_firebase_uid=PcH77xshsKSA3l4rWp2KIC6R3m43`</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"answer"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"answer_json_data"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"choice_uid"</span><span class="p">:</span> <span class="s2">"tWASdHKnRlg5"</span><span class="p">,</span>
            <span class="s2">"choice_text"</span><span class="p">:</span> <span class="s2">"Hello"</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"answer_json_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"choice_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tWASdHKnRlg5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"choice_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${question_uid}/choices</code></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>choice_uid</td>
<td>&quot;tWASdHKnRlg5&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
<tr>
<td>member_firebase_uid</td>
<td>&quot;PcH77xshsKSA3l4rWp2KIC6R3m43&quot;</td>
<td></td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_uid</td>
<td>&quot;tWASdHKnRlg5&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h2 id='activities-answer-show'>activities/answer#show</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"jsonwebtoken"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="s2">"apiKey"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">apiSecret</span> <span class="o">=</span> <span class="s2">"apiSecret"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://digitalplatform-api.dev.sansiriproject.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/api/v1/client/</span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">/activities/</span><span class="p">${</span><span class="nx">activity_uid</span><span class="p">}</span><span class="s2">/questions/</span><span class="p">${</span><span class="nx">question_uid</span><span class="p">}</span><span class="s2">/answers/</span><span class="p">${</span><span class="nx">uid</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">expTime</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">60</span><span class="p">;</span> <span class="c1">// expiration + 60 seconds</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="na">api_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">exp</span><span class="p">:</span> <span class="nx">expTime</span> <span class="p">},</span> <span class="nx">apiSecret</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">CMSAuthToken</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dLDMvE-iZZm6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"answer_json_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"choice_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tWASdHKnRlg5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"choice_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="w">
   </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all activites.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /api/v1/client/${apiKey}/activities/${activity_uid}/questions/${question_uid}/answers/${uid}</code></p>
<h4 id='response'>Response</h4>
<p><code>TYPE: Array</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uid</td>
<td>&quot;asdfuirtXX&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_uid</td>
<td>&quot;tWASdHKnRlg5&quot;</td>
<td>URL Safe Base64 String</td>
</tr>
<tr>
<td>choice_text</td>
<td>&quot;q2&quot;</td>
<td>choice text</td>
</tr>
</tbody></table>
<h2 id='errors'>Errors</h2>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>
<h1 id='partner-apis'>Partner APIs</h1><h2 id='partner-apis-introductions'>Partner APIs Introductions</h2>
<p>Welcome to digital platform. In this section, you should see how to implement API calls via <code>Partner APIs</code>.</p>

<p>Please first read the section <a href="#1-redirecting-to-partner-site">1. Redirecting to partner site</a>. We required all partner to send us these information.</p>

<p>Hostname name available are</p>

<ol>
<li>Staging Server <code>https://family.stg.sansiriproject.com</code></li>
<li>Production Server <code>https://family.sansiri.com</code></li>
</ol>
<h2 id='1-redirecting-to-partner-site'>1. Redirecting to partner site</h2>
<p>This section is <code>Sansiri Family</code> redirecting to <code>Partner Site</code>. We require <code>Partner URL</code> for us to redirect via <code>GET</code> or send data via <code>POST</code>.</p>

<ol>
<li>For example, our partners are required to send us either on of these information.

<ol>
<li>Partner A using <code>GET</code>

<ol>
<li>Method: <code>GET</code></li>
<li>URL: <code>https://www.partner-A.com/sansiri-family</code></li>
</ol></li>
<li>Partner B using <code>POST</code>

<ol>
<li>Method: <code>POST</code></li>
<li>URL: <code>https://www.partner-B.com/sansiri-family</code></li>
</ol></li>
</ol></li>
</ol>
<h3 id='sansiri-family-to-partner'>Sansiri family to Partner</h3>
<p>Once we configured our system to be able to send data to partner site. Please follow the guideline below to integrate the two systems.</p>

<ol>
<li>Each request will be sent through a form, using either GET or POST method, as chosen by the service provider.</li>
<li>Each request will always have &quot;Primary Parameter&quot;.</li>
<li>Only &quot;POST&quot; request will include the detailed information</li>
<li>Unless opt-out, each request can contain the user profile.</li>
<li>Unless opt-out, each request can contain an &quot;ORIGIN ADDRESS&quot;, &quot;DESTINATION ADDRESS&quot;, or both, depends on the nature of the provided service itself</li>
<li>Custom parameters can also be included on the basis of each service provider</li>
<li>All of the information can also be retrieve via &quot;Get an appointment&quot; using the provided access_token later</li>
</ol>
<h3 id='via-get'>VIA GET</h3>
<p><code>GET https://www.partner-A.com/sansiri-family</code></p>

<p>Primary Parameter <code>in Query String</code></p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>a unique string represent specific service appointment record at Sansiri&#39;s. This will be used for updating the reservation status later on.</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>a unique string, short lived access token, generated for each request sent to the partner site. The partner system should use this access token to verified the validity of the request, by sending the access token back to Sansiri via the &quot;Get Appointment&quot; api</td>
</tr>
<tr>
<td>access_token_expired_at</td>
<td>string</td>
<td>the date / time which the access token will be expired</td>
</tr>
<tr>
<td>access_token_expired_seconds</td>
<td>number</td>
<td>the number of seconds before the access token would be expired</td>
</tr>
<tr>
<td>uuid</td>
<td>string</td>
<td>a unique string represent a certain user / member at Sansiri&#39;s. This will always be the same for each user.</td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>the locale which the user was using</td>
</tr>
<tr>
<td>return_url</td>
<td>string</td>
<td>the url which the user should be redirected to if the appointment could be considered as SUCCESS at the partner site</td>
</tr>
<tr>
<td>error_url</td>
<td>string</td>
<td>the url which the user should be redirected to if the appointment could be considered as ERROR or CANCELLED at the partner site</td>
</tr>
</tbody></table>
<h3 id='via-post'>VIA POST</h3>
<p><code>POST https://www.partner-B.com/sansiri-family</code></p>
<h3 id='primary-parameter-in-request-body'>Primary Parameter <code>in Request BODY</code></h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>a unique string represent specific service appointment record at Sansiri&#39;s. This will be used for updating the reservation status later on.</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>a unique string, short lived access token, generated for each request sent to the partner site. The partner system should use this access token to verified the validity of the request, by sending the access token back to Sansiri via the &quot;Get Appointment&quot; api</td>
</tr>
<tr>
<td>access_token_expired_at</td>
<td>string</td>
<td>the date / time which the access token will be expired</td>
</tr>
<tr>
<td>access_token_expired_seconds</td>
<td>number</td>
<td>the number of seconds before the access token would be expired</td>
</tr>
<tr>
<td>uuid</td>
<td>string</td>
<td>a unique string represent a certain user / member at Sansiri&#39;s. This will always be the same for each user.</td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>the locale which the user was using</td>
</tr>
<tr>
<td>return_url</td>
<td>string</td>
<td>the url which the user should be redirected to if the appointment could be considered as SUCCESS at the partner site</td>
</tr>
<tr>
<td>error_url</td>
<td>string</td>
<td>the url which the user should be redirected to if the appointment could be considered as ERROR or CANCELLED at the partner site</td>
</tr>
</tbody></table>
<h3 id='member-info-only-if-available'>Member info only if available</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>the user first name</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>the user last name</td>
</tr>
<tr>
<td>phone_number</td>
<td>string</td>
<td>the user phone number</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>the user email</td>
</tr>
<tr>
<td>project_id</td>
<td>string</td>
<td>related project id of the consumer address</td>
</tr>
<tr>
<td>project_name</td>
<td>string</td>
<td>related project name the consumer address</td>
</tr>
<tr>
<td>model_code</td>
<td>string</td>
<td>related model code of the consumer address</td>
</tr>
<tr>
<td>model_id</td>
<td>string</td>
<td>related model id of the consumer address</td>
</tr>
<tr>
<td>model_name</td>
<td>string</td>
<td>related model name of the consumer address</td>
</tr>
</tbody></table>
<h3 id='origin-address-if-available'>Origin Address if available</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin_address</td>
<td>string</td>
<td>the full text of the origin address</td>
</tr>
<tr>
<td>origin_address_1</td>
<td>string</td>
<td>the address 1 text of the origin address</td>
</tr>
<tr>
<td>origin_address_2</td>
<td>string</td>
<td>the address 2 text of the origin address</td>
</tr>
<tr>
<td>origin_address_street</td>
<td>string</td>
<td>the street address of the origin address</td>
</tr>
<tr>
<td>origin_address_district</td>
<td>string</td>
<td>the district name of the origin address</td>
</tr>
<tr>
<td>origin_address_subdistrict</td>
<td>string</td>
<td>the subdistrict name of the origin address</td>
</tr>
<tr>
<td>origin_address_province</td>
<td>string</td>
<td>the province name of the origin address</td>
</tr>
<tr>
<td>origin_address_postal_code</td>
<td>string</td>
<td>the postal code of the origin address</td>
</tr>
</tbody></table>
<h3 id='destination-address-if-available'>Destination Address if available</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>destination_address</td>
<td>string</td>
<td>the full text of the destination address</td>
</tr>
<tr>
<td>destination_address_1</td>
<td>string</td>
<td>the address 1 text of the destination address</td>
</tr>
<tr>
<td>destination_address_2</td>
<td>string</td>
<td>the address 2 text of the destination address</td>
</tr>
<tr>
<td>destination_address_street</td>
<td>string</td>
<td>the street address of the destination address</td>
</tr>
<tr>
<td>destination_address_district</td>
<td>string</td>
<td>the district name of the destination address</td>
</tr>
<tr>
<td>destination_address_subdistrict</td>
<td>string</td>
<td>the subdistrict name of the destination address</td>
</tr>
<tr>
<td>destination_address_province</td>
<td>string</td>
<td>the province name of the destination address</td>
</tr>
<tr>
<td>destination_address_postal_code</td>
<td>string</td>
<td>the postal code of the destination address</td>
</tr>
</tbody></table>
<h2 id='2-1-get-appointment-data'>2.1 Get Appointment Data</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">access_token</span> <span class="o">=</span> <span class="s2">"access_token_from_previous_section"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://family.sansiri.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/family/api/booking/appointment?access_token=</span><span class="p">${</span><span class="nx">access_token</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<p>Example Response</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first_name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last_name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone_number"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_of_birth"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"project_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project_id"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"project_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project_name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"model_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model_id"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"model_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model_name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"origin_address"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"origin_address_1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"origin_address_2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_address_district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"origin_address_district"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_address_sub_district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"origin_address_sub_district"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_address_province"</span><span class="p">:</span><span class="w"> </span><span class="s2">"origin_address_province"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_address_postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"origin_address_postal_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destination_address"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destination_address_1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destination_address_2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_address_district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destination_address_district"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_address_sub_district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destination_address_sub_district"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_address_province"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destination_address_province"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_address_postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"destination_address_postal_code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"return_url"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"error_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_url"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"update_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update_url"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amphor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amphor"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postCode"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"province"</span><span class="p">:</span><span class="w"> </span><span class="s2">"province"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tambol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tambol"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"model"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amphor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amphor"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nameEn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nameEn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"province"</span><span class="p">:</span><span class="w"> </span><span class="s2">"province"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"segment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tambol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tambol"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"project_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project_name"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"project_name_en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project_name_en"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"room_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_no"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"usageArea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usageArea"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>With this API, our Partner can fetrch the information of a given appointment, using <code>access_token</code> provided by Sansiri (please refer to this section <a href="#1-redirecting-to-partner-site">1. Redirecting to partner site</a>).</p>

<p><code>GET https://family.sansiri.com/family/api/booking/appointment</code></p>

<p>Parameter <code>in Query String</code></p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>string</td>
<td>Access token from <a href="#1-redirecting-to-partner-site">1. Redirecting to partner site</a></td>
</tr>
</tbody></table>

<p>Response, Please see data structure on the right for clearer picture.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>object</td>
<td>the response data</td>
</tr>
<tr>
<td>-uuid</td>
<td>string</td>
<td>the user uuid</td>
</tr>
<tr>
<td>-first_name</td>
<td>string</td>
<td>the user first_name</td>
</tr>
<tr>
<td>-last_name</td>
<td>string</td>
<td>the user last_name</td>
</tr>
<tr>
<td>-phone_number</td>
<td>string</td>
<td>the user phone number</td>
</tr>
<tr>
<td>-project_id</td>
<td>string</td>
<td>the project id of the chosen address</td>
</tr>
<tr>
<td>-project_name</td>
<td>string</td>
<td>the project name of the chosen address</td>
</tr>
<tr>
<td>-model_code</td>
<td>string</td>
<td>the code of the unit type of chosen address</td>
</tr>
<tr>
<td>-model_id</td>
<td>string</td>
<td>the id of the unit type of chosen address</td>
</tr>
<tr>
<td>-model_name</td>
<td>string</td>
<td>the name of the unit type of chosen address</td>
</tr>
<tr>
<td>-origin_address</td>
<td>string</td>
<td>the full address of the origin address</td>
</tr>
<tr>
<td>-origin_address_1</td>
<td>string</td>
<td>the main address of the origin address</td>
</tr>
<tr>
<td>-origin_address_2</td>
<td>string</td>
<td>the sub address of the origin address</td>
</tr>
<tr>
<td>-origin_address_district</td>
<td>string</td>
<td>the district name of the origin address</td>
</tr>
<tr>
<td>-origin_address_sub_district</td>
<td>string</td>
<td>the sub district name of the origin address</td>
</tr>
<tr>
<td>-origin_address_province</td>
<td>string</td>
<td>the province name of the origin address</td>
</tr>
<tr>
<td>-origin_address_postal_code</td>
<td>string</td>
<td>the postal code of the origin address</td>
</tr>
<tr>
<td>-destination_address</td>
<td>string</td>
<td>the full address of the destination address</td>
</tr>
<tr>
<td>-destination_address_1</td>
<td>string</td>
<td>the main address of the destination address</td>
</tr>
<tr>
<td>-destination_address_2</td>
<td>string</td>
<td>the sub address of the destination address</td>
</tr>
<tr>
<td>-destination_address_district</td>
<td>string</td>
<td>the district name of the destination address</td>
</tr>
<tr>
<td>-destination_address_sub_district</td>
<td>string</td>
<td>the sub district name of the destination address</td>
</tr>
<tr>
<td>-destination_address_province</td>
<td>string</td>
<td>the province name of the destination address</td>
</tr>
<tr>
<td>-destination_address_postal_code</td>
<td>string</td>
<td>the postal code of the destination address</td>
</tr>
<tr>
<td>-return_url</td>
<td>string</td>
<td>the url which the service should post the information to, when the order is completed</td>
</tr>
<tr>
<td>-error_url</td>
<td>string</td>
<td>the url which the service should post the information to, when the order is canceled</td>
</tr>
<tr>
<td>-update_url</td>
<td>string</td>
<td>the url which the service could post the information to update the order</td>
</tr>
<tr>
<td>-addresses</td>
<td>array</td>
<td>list of addresses available for the user</td>
</tr>
<tr>
<td>--address</td>
<td>string</td>
<td>the address text</td>
</tr>
<tr>
<td>--address_data</td>
<td>object</td>
<td>the address information separated by type</td>
</tr>
<tr>
<td>---amphor</td>
<td>string</td>
<td>the district name</td>
</tr>
<tr>
<td>---postCode</td>
<td>string</td>
<td>the postal code</td>
</tr>
<tr>
<td>---province</td>
<td>string</td>
<td>the province name</td>
</tr>
<tr>
<td>---street</td>
<td>string</td>
<td>the street name</td>
</tr>
<tr>
<td>---tambol</td>
<td>string</td>
<td>the subdistrict name</td>
</tr>
<tr>
<td>--code</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>--model</td>
<td>object</td>
<td>the unit type of the address</td>
</tr>
<tr>
<td>---code</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>---id</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>---name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>--project</td>
<td>object</td>
<td>the project which the address belongs to</td>
</tr>
<tr>
<td>---amphor</td>
<td>string</td>
<td>the district name of the project</td>
</tr>
<tr>
<td>---id</td>
<td>string</td>
<td>the project id</td>
</tr>
<tr>
<td>---name</td>
<td>string</td>
<td>the TH name of the project</td>
</tr>
<tr>
<td>---nameEn</td>
<td>string</td>
<td>the EN name of the project</td>
</tr>
<tr>
<td>---code</td>
<td>string</td>
<td>the zip code of the project</td>
</tr>
<tr>
<td>---province</td>
<td>string</td>
<td>the province name of the project</td>
</tr>
<tr>
<td>---segment</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>---street</td>
<td>string</td>
<td>the street name of the project</td>
</tr>
<tr>
<td>---tambol</td>
<td>string</td>
<td>the sub district name of the project</td>
</tr>
<tr>
<td>---product</td>
<td>object</td>
<td>the type of the project</td>
</tr>
<tr>
<td>----id</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>----name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>--project_name</td>
<td>string</td>
<td>the TH name of the project</td>
</tr>
<tr>
<td>--project_name_en</td>
<td>string</td>
<td>the EN name of the project</td>
</tr>
<tr>
<td>--room_no</td>
<td>string</td>
<td>the room number of the address</td>
</tr>
<tr>
<td>--usageArea</td>
<td>string</td>
<td>the size of the address in square metres</td>
</tr>
<tr>
<td>-success</td>
<td>number</td>
<td>Allowed values: 0, 1</td>
</tr>
<tr>
<td>-message</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h2 id='2-2-complete-or-confirm-appointment'>2.2 Complete or Confirm Appointment</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="s2">"token_from_previous_section"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">locale</span> <span class="o">=</span> <span class="s2">"en"</span><span class="p">;</span> <span class="c1">// en, th, zh</span>
<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://family.sansiri.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/family/</span><span class="p">${</span><span class="nx">locale</span><span class="p">}</span><span class="s2">/service/booking/confirm/success`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">token</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="s2">"COMPLETED"</span><span class="p">,</span>
    <span class="na">message</span><span class="p">:</span> <span class="s2">"customer has made payment"</span><span class="p">,</span>
    <span class="na">order_id</span><span class="p">:</span> <span class="s2">"partner-a-20190511-001"</span><span class="p">,</span>
    <span class="na">order_date</span><span class="p">:</span> <span class="s2">"2019-05-11T18:28:00.000Z"</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">foo</span><span class="p">:</span> <span class="s2">"far"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this api to set appointment to completed or confirmed. This will tell Sansiri that the specific request has been completed on Partner system.</p>

<p><code>POST https://family.sansiri.com/family/{locale}/service/booking/confirm/success</code></p>

<p>Parameter <code>in POST BODY</code></p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>a unique string represent specific service appointment record at Sansiri&#39;s.</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>the current of the transaction at service provider site. Allowed values: COMPLETED, CONFIRMED</td>
</tr>
<tr>
<td>message optional</td>
<td>string</td>
<td>any string the service provider would like to be store at Sansiri&#39;s</td>
</tr>
<tr>
<td>order_id optional</td>
<td>string</td>
<td>the transaction id / order represent the transaction / order at service provider site</td>
</tr>
<tr>
<td>order_date optional</td>
<td>string</td>
<td>the date/time when the order has occurred (ISO8601 format)</td>
</tr>
<tr>
<td>data optional</td>
<td>string</td>
<td>a json string / object containing any other information not belongs to any other fields</td>
</tr>
</tbody></table>
<h2 id='2-3-cancel-appointment'>2.3 Cancel Appointment</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="s2">"token_from_previous_section"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">locale</span> <span class="o">=</span> <span class="s2">"en"</span><span class="p">;</span> <span class="c1">// en, th, zh</span>
<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://family.sansiri.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/family/{locale}/service/booking/confirm/error`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">token</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">message</span><span class="p">:</span> <span class="s2">"customer lost interest"</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">foo</span><span class="p">:</span> <span class="s2">"far"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELLED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this api to set appointment to cancelled. This will tell Sansiri that the specific request has been cancelled or unfulfilled on Partner system.</p>

<p><code>POST https://family.sansiri.com/family/{locale}/service/booking/confirm/error</code></p>

<p>Parameter <code>in POST BODY</code></p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>a unique string represent specific service appointment record at Sansiri&#39;s.</td>
</tr>
<tr>
<td>message optional</td>
<td>string</td>
<td>any string the service provider would like to be store at Sansiri&#39;s</td>
</tr>
<tr>
<td>data optional</td>
<td>string</td>
<td>a json string / object containing any other information not belongs to any other fields</td>
</tr>
</tbody></table>
<h2 id='2-4-update-appointment'>2.4 Update Appointment</h2><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request-promise"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="s2">"token_from_previous_section"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">locale</span> <span class="o">=</span> <span class="s2">"en"</span><span class="p">;</span> <span class="c1">// en, th, zh</span>
<span class="kr">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="s2">"https://family.sansiri.com"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apiPath</span> <span class="o">=</span> <span class="s2">`/family/{locale}/service/booking/confirm/update`</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}${</span><span class="nx">apiPath</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">token</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="s2">"COMPLETED"</span><span class="p">,</span>
    <span class="na">order_id</span><span class="p">:</span> <span class="s2">"partner-a-20190511-001"</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">foo</span><span class="p">:</span> <span class="s2">"far"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"RESPONSE"</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"ERR"</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELLED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this api to update appointment. The updatable fields are listed below.</p>

<p><code>POST https://family.sansiri.com/family/{locale}/service/booking/confirm/update</code></p>

<p>Parameter <code>in POST BODY</code></p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>a unique string represent specific service appointment record at Sansiri&#39;s.</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>the current of the transaction at service provider site. Allowed values: COMPLETED, CONFIRMED, CANCELLED</td>
</tr>
<tr>
<td>order_id optional</td>
<td>string</td>
<td>the transaction id / order represent the transaction / order at service provider site</td>
</tr>
<tr>
<td>data optional</td>
<td>string</td>
<td>a json string / object containing any other information not belongs to any other fields</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
